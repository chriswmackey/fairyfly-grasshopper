{
  "version": "1.9.1", 
  "nickname": "ColorBoundaryAttr", 
  "outputs": [
    [
      {
        "access": "None", 
        "name": "lines", 
        "description": "Line segments of the boundaries colored according to their attributes.", 
        "type": null, 
        "default": null
      }, 
      {
        "access": "None", 
        "name": "legend", 
        "description": "Geometry representing the legend for colored lines.", 
        "type": null, 
        "default": null
      }, 
      {
        "access": "None", 
        "name": "wire_frame", 
        "description": "A list of lines representing the outlines of the _ff_objs.", 
        "type": null, 
        "default": null
      }, 
      {
        "access": "None", 
        "name": "values", 
        "description": "A list of values noting the attribute assigned to each boundary.", 
        "type": null, 
        "default": null
      }, 
      {
        "access": "None", 
        "name": "colors", 
        "description": "A list of colors noting the color of each boundary in the Rhino scene.\nThis can be used in conjunction with the native Grasshopper\n\"Custom Preview\" component to create custom visualizations in\nthe Rhino scene.", 
        "type": null, 
        "default": null
      }
    ]
  ], 
  "inputs": [
    {
      "access": "list", 
      "name": "_ff_objs", 
      "description": "An array of fairyfly Boundaries to be colored with their attributes\nin the Rhino scene. This can also be an entire Model to be colored.", 
      "type": "System.Object", 
      "default": null
    }, 
    {
      "access": "item", 
      "name": "_attribute_", 
      "description": "Text for the name of the attribute with which the boundaries should\nbe colored. The \"FF Boundary Attributes\" component lists all of the\nattributes of the boundary. (Default: THERM Condition).", 
      "type": "string", 
      "default": null
    }, 
    {
      "access": "item", 
      "name": "legend_par_", 
      "description": "An optional LegendParameter object to change the display\nof the colored boundaries (Default: None).", 
      "type": "System.Object", 
      "default": null
    }
  ], 
  "subcategory": "0 :: Create", 
  "code": "\ntry:  # import the core fairyfly dependencies\n    from fairyfly.model import Model\n    from fairyfly.boundary import Boundary\n    from fairyfly.shape import Shape\n    from fairyfly.colorobj import ColorBoundary\nexcept ImportError as e:\n    raise ImportError('\\nFailed to import fairyfly:\\n\\t{}'.format(e))\n\ntry:  # import the ladybug_{{cad}} dependencies\n    from ladybug_{{cad}}.colorize import ColoredLine\n    from ladybug_{{cad}}.fromgeometry import from_linesegment2d, from_face3d_to_wireframe\n    from ladybug_{{cad}}.fromobjects import legend_objects\n    from ladybug_{{cad}}.color import color_to_color\n    from ladybug_{{cad}}.{{plugin}} import all_required_inputs, schedule_solution\nexcept ImportError as e:\n    raise ImportError('\\nFailed to import ladybug_{{cad}}:\\n\\t{}'.format(e))\n\nDEFAULT_PROP = 'properties.therm.condition.display_name'\n\n\nif all_required_inputs(ghenv.Component):\n    # extract any boundaries from input Models\n    _attribute_ = DEFAULT_PROP if _attribute_ is None else _attribute_\n    boundaries, shapes = [], []\n    for ff_obj in _ff_objs:\n        if isinstance(ff_obj, Model):\n            boundaries.extend(ff_obj.boundaries)\n            shapes.extend(ff_obj.shapes)\n        elif isinstance(ff_obj, Boundary):\n            boundaries.append(ff_obj)\n        elif isinstance(ff_obj, Shape):\n            shapes.append(ff_obj)\n\n    # create the ColorBoundary visualization object\n    color_obj = ColorBoundary(boundaries, _attribute_, legend_par_)\n    # assign condition colors if this is what is being used for coloring\n    if _attribute_ == DEFAULT_PROP and color_obj.legend_parameters.are_colors_default:\n        color_model = Model(boundaries=boundaries)\n        color_dict = {con.display_name: con.color\n                      for con in color_model.properties.therm.conditions}\n        leg_colors = [color_dict[m_name] for m_name in color_obj.attributes_unique]\n        if len(leg_colors) == 1:\n            leg_colors = [leg_colors[0]] * 2\n        color_obj.legend_parameters.colors = leg_colors\n\n    # output the visualization geometry\n    graphic = color_obj.graphic_container\n    values = color_obj.attributes_original\n    flat_geo = color_obj.flat_geometry\n    wire_frame = []\n    for shape in shapes:\n        wire_frame.extend(from_face3d_to_wireframe(shape.geometry))\n    legend = legend_objects(graphic.legend)\n    colors = [color_to_color(col) for col in graphic.value_colors]\n    lines = []\n    for lin, col in zip(flat_geo, colors):\n        col_line = ColoredLine(from_linesegment2d(lin))\n        col_line.color = col\n        col_line.thickness = 3\n        lines.append(col_line)\n    # CWM: I don't know why we have to re-schedule the solution but this is the\n    # only way I found to get the colored polylines to appear (redraw did not work).\n    schedule_solution(ghenv.Component, 2)\n    vis_set = color_obj\n", 
  "category": "Fairyfly", 
  "name": "FF Color Boundary Attributes", 
  "description": "Color Fairyfly Boundaries in the Rhino scene using their attributes.\n_\nThis can be used as a means to check that correct properties are assigned to\ndifferent boundaries.\n-"
}